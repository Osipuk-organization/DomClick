openapi: 3.0.0
info:
  title: DomClick dev new
  description: DomClick dev api
  termsOfService: http://osipuk.ru/
  contact:
    email: andrey.o@list.ru
  version: 1.0.0
servers:
- url: https://virtserver.swaggerhub.com/AndreyOsipuk/example/1.0.0
  description: SwaggerHub API Auto Mocking
- url: https://virtserver.swaggerhub.com/DomClick7/Domclick/1.0.0
  description: SwaggerHub API Auto Mocking
tags:
- name: users
  description: Access users
  externalDocs:
    url: http://
- name: flats
  description: Access to flats
paths:
  /users:
    get:
      tags:
      - users
      summary: Get all users
      description: get users
      operationId: get users
      parameters:
      - name: body
        in: query
        description: Get all users
        required: true
        style: form
        explode: true
        schema:
          $ref: '#/components/schemas/Users'
      responses:
        "204":
          description: An error has occurred
    put:
      tags:
      - users
      summary: Update user
      description: Update user
      operationId: Update user
      parameters:
      - name: user
        in: query
        description: New user
        required: true
        style: form
        explode: true
        schema:
          $ref: '#/components/schemas/Users'
      responses:
        "204":
          description: An error has occurred
    post:
      tags:
      - users
      summary: Put new user
      description: Put new user
      operationId: Put new user
      parameters:
      - name: user
        in: query
        description: New user
        required: true
        style: form
        explode: true
        schema:
          $ref: '#/components/schemas/Users'
      responses:
        "204":
          description: An error has occurred
  /users/{id}:
    get:
      tags:
      - users
      summary: Get one users
      description: get one user
      operationId: get one user
      parameters:
      - name: id
        in: path
        description: get one user
        required: true
        style: simple
        explode: false
        schema:
          type: integer
          format: int64
      responses:
        "204":
          description: An error has occurred
    delete:
      tags:
      - users
      summary: Delete one user
      description: Delete one user
      operationId: Delete one user
      parameters:
      - name: id
        in: path
        description: 'Delete one user '
        required: true
        style: simple
        explode: false
        schema:
          type: integer
          format: int64
      responses:
        "204":
          description: An error has occurred
  /flats:
    get:
      tags:
      - flats
      summary: Get all flats
      description: get flats
      operationId: get flats
      parameters:
      - name: page
        in: query
        description: default page 1
        required: false
        style: form
        explode: true
        schema:
          type: string
          example: 1, 2, 3
      - name: limit
        in: query
        description: default limit 10
        required: false
        style: form
        explode: true
        schema:
          type: string
          example: 10, 20, 30
      responses:
        "204":
          description: An error has occurred
    post:
      tags:
      - flats
      summary: Put new flat
      description: Put new flat
      operationId: Put new flat
      parameters:
      - name: body
        in: query
        description: Put new flat
        required: true
        style: form
        explode: true
        schema:
          $ref: '#/components/schemas/Flats'
      responses:
        "204":
          description: An error has occurred
  /flats/{id}:
    get:
      tags:
      - flats
      summary: Get one flat
      description: Get one flat
      operationId: Get one flat
      parameters:
      - name: id
        in: path
        description: ID of flats to return
        required: true
        style: simple
        explode: false
        schema:
          type: integer
          format: int64
      responses:
        "200":
          description: successful operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Flats'
        "204":
          description: An error has occurred
    put:
      tags:
      - flats
      summary: Update flat
      description: Update flat
      operationId: Update flat
      parameters:
      - name: id
        in: path
        description: ID of flats to return
        required: true
        style: simple
        explode: false
        schema:
          type: integer
          format: int64
      responses:
        "204":
          description: An error has occurred
    delete:
      tags:
      - flats
      summary: Удалить объект
      description: Удалить объект
      operationId: Удалить объект
      parameters:
      - name: id
        in: path
        description: ID of flats to return
        required: true
        style: simple
        explode: false
        schema:
          type: array
          items:
            type: string
      responses:
        "204":
          description: An error has occurred
    patch:
      tags:
      - flats
      summary: В разработке
      description: В разработке
      operationId: В разработке
      parameters:
      - name: id
        in: path
        description: ID of flats to return
        required: true
        style: simple
        explode: false
        schema:
          type: integer
          format: int64
      responses:
        "204":
          description: An error has occurred
  /auth/signin:
    post:
      tags:
      - auth
      summary: Авторизация
      description: Авторизация
      operationId: Авторизация
      parameters:
      - name: login
        in: query
        description: login
        required: true
        style: form
        explode: true
        schema:
          type: string
          format: string
      - name: password
        in: query
        description: password encode base64
        required: true
        style: form
        explode: true
        schema:
          type: string
          format: string
      responses:
        "204":
          description: An error has occurred
  /auth/register:
    post:
      tags:
      - auth
      summary: Регистрация
      description: Регистрация
      operationId: Регистрация
      parameters:
      - name: login
        in: query
        description: login
        required: true
        style: form
        explode: true
        schema:
          type: string
          format: string
      - name: password
        in: query
        description: password
        required: true
        style: form
        explode: true
        schema:
          type: string
          format: string
      - name: role
        in: query
        description: role
        required: true
        style: form
        explode: true
        schema:
          type: string
          format: string
      responses:
        "204":
          description: An error has occurred
  /auth/logout:
    post:
      tags:
      - auth
      summary: Logout
      description: Logout
      operationId: Logout
      parameters:
      - name: user
        in: query
        description: login
        required: true
        style: form
        explode: true
        schema:
          type: string
          format: string
      responses:
        "204":
          description: An error has occurred
components:
  schemas:
    Users:
      required:
      - name
      - password
      - role
      type: object
      properties:
        id:
          type: string
          format: ObjectID
        name:
          type: string
          format: string
        password:
          type: string
          format: string
        role:
          type: string
          description: Role
          enum:
          - admin
          - user
    Flats:
      required:
      - additionally
      - address
      - cadastral_value
      - deal
      - documents
      - flat
      - house
      - owner
      - terms_of_sale
      type: object
      properties:
        id:
          type: string
          format: ObjectID
        owner:
          type: string
        documents:
          type: array
          items:
            type: string
        cadastral_value:
          $ref: '#/components/schemas/Flats_cadastral_value'
        address:
          $ref: '#/components/schemas/Flats_cadastral_value'
        deal:
          $ref: '#/components/schemas/Flats_deal'
        terms_of_sale:
          $ref: '#/components/schemas/Flats_terms_of_sale'
        additionally:
          $ref: '#/components/schemas/Flats_additionally'
        house:
          $ref: '#/components/schemas/Flats_house'
        flat:
          $ref: '#/components/schemas/Flats_flat'
    Flats_cadastral_value:
      required:
      - value
      type: object
      properties:
        value:
          type: string
        comment:
          type: string
    Flats_deal_number_of_owners:
      required:
      - value
      type: object
      properties:
        value:
          type: string
          enum:
          - "1"
          - "2"
          - 3+
        minor_child:
          type: boolean
          default: false
    Flats_deal:
      required:
      - number_of_owners
      - property_type
      - registered
      - type_deal
      - type_of_property
      - years_in_ownership
      type: object
      properties:
        comment:
          type: string
        type_deal:
          type: string
          enum:
          - Продажа
          - Аренда
        property_type:
          type: string
          enum:
          - Жилая
          - Коммерческая
          - Гараж
        type_of_property:
          type: string
          enum:
          - Квартира
          - Комната
          - Дом
          - Таунхаус
          - Часть дома
          - Участок
        years_in_ownership:
          type: string
          enum:
          - Меньше 3-х
          - От 3-х до 5-ти
          - Больше 5-ти
        number_of_owners:
          $ref: '#/components/schemas/Flats_deal_number_of_owners'
        registered:
          $ref: '#/components/schemas/Flats_deal_number_of_owners'
    Flats_terms_of_sale_cost:
      required:
      - value
      type: object
      properties:
        value:
          type: number
        trade:
          type: boolean
          default: false
    Flats_terms_of_sale:
      required:
      - cost
      - gas
      - refuse_chute
      type: object
      properties:
        comment:
          type: string
        cost:
          $ref: '#/components/schemas/Flats_terms_of_sale_cost'
        gas:
          type: boolean
        refuse_chute:
          type: boolean
    Flats_additionally_security:
      required:
      - closed_territory
      - code_door
      - concierge
      - doorphone
      type: object
      properties:
        comment:
          type: string
        doorphone:
          type: boolean
          default: false
        concierge:
          type: boolean
          default: false
        code_door:
          type: boolean
          default: false
        closed_territory:
          type: boolean
          default: false
    Flats_additionally_parking:
      required:
      - barrier
      - garage
      - in_the_courtyard
      - security
      - underground
      type: object
      properties:
        comment:
          type: string
        in_the_courtyard:
          type: boolean
          default: false
        underground:
          type: boolean
          default: false
        barrier:
          type: boolean
          default: false
        garage:
          type: boolean
          default: false
        security:
          type: boolean
          default: false
    Flats_additionally_the_landscaping_of_the_yard:
      required:
      - childrens_playground
      - sports_ground
      type: object
      properties:
        comment:
          type: string
        childrens_playground:
          type: boolean
          default: false
        sports_ground:
          type: boolean
          default: false
    Flats_additionally_infrastructure:
      required:
      - fitness
      - kindergarten
      - mall
      - park
      - school
      type: object
      properties:
        comment:
          type: string
        school:
          type: boolean
          default: false
        fitness:
          type: boolean
          default: false
        park:
          type: boolean
          default: false
        kindergarten:
          type: boolean
          default: false
        mall:
          type: boolean
          default: false
    Flats_additionally_bathroom:
      required:
      - value
      type: object
      properties:
        comment:
          type: string
        value:
          type: string
          enum:
          - Совмещенный
          - Раздельный
          - Более одного
    Flats_additionally_balcony:
      required:
      - value
      type: object
      properties:
        comment:
          type: string
        value:
          type: string
          enum:
          - "1"
          - "2"
          - 3+
          - Нет
    Flats_additionally_repair:
      required:
      - value
      type: object
      properties:
        comment:
          type: string
        value:
          type: string
          enum:
          - Косметический
          - Евро
          - Дизайнерский
          - Без ремонта
    Flats_additionally_view_from_windows:
      required:
      - forest
      - park
      - reservoir
      - street
      - yard
      type: object
      properties:
        comment:
          type: string
        yard:
          type: boolean
          default: false
        street:
          type: boolean
          default: false
        park:
          type: boolean
          default: false
        reservoir:
          type: boolean
          default: false
        forest:
          type: boolean
          default: false
    Flats_additionally:
      required:
      - balcony
      - bathroom
      - infrastructure
      - parking
      - repair
      - security
      - the_landscaping_of_the_yard
      - view_from_windows
      type: object
      properties:
        security:
          $ref: '#/components/schemas/Flats_additionally_security'
        parking:
          $ref: '#/components/schemas/Flats_additionally_parking'
        the_landscaping_of_the_yard:
          $ref: '#/components/schemas/Flats_additionally_the_landscaping_of_the_yard'
        infrastructure:
          $ref: '#/components/schemas/Flats_additionally_infrastructure'
        bathroom:
          $ref: '#/components/schemas/Flats_additionally_bathroom'
        balcony:
          $ref: '#/components/schemas/Flats_additionally_balcony'
        repair:
          $ref: '#/components/schemas/Flats_additionally_repair'
        view_from_windows:
          $ref: '#/components/schemas/Flats_additionally_view_from_windows'
    Flats_house_elevator:
      required:
      - freight_elevator
      - value
      type: object
      properties:
        value:
          type: string
          enum:
          - "1"
          - "2"
          - 3+
        freight_elevator:
          type: boolean
          default: false
    Flats_house_foto:
      required:
      - value
      type: object
      properties:
        comment:
          type: string
        value:
          type: array
          items:
            type: string
    Flats_house:
      required:
      - apartment_number
      - elevator
      - foto
      - type
      - video
      type: object
      properties:
        comment:
          type: string
        security:
          type: string
        type:
          type: string
          enum:
          - Кирпичный
          - Панельный
          - Монолитный
          - Деревянный
          - Блочный
        elevator:
          $ref: '#/components/schemas/Flats_house_elevator'
        apartment_number:
          type: number
        cadastral_number:
          type: number
        foto:
          $ref: '#/components/schemas/Flats_house_foto'
        video:
          $ref: '#/components/schemas/Flats_house_foto'
    Flats_flat:
      required:
      - ceiling_height
      - floor
      - floors_in_the_house
      - freight_elevator
      - rooms
      - square
      - square_kitchen
      - square_residential
      type: object
      properties:
        comment:
          type: string
        rooms:
          type: string
          enum:
          - "1"
          - "2"
          - "3"
          - "4"
          - 5+
          - Студия
        freight_elevator:
          type: boolean
          default: false
        square:
          type: boolean
          default: false
        square_kitchen:
          type: boolean
          default: false
        square_residential:
          type: boolean
          default: false
        floor:
          type: boolean
          default: false
        floors_in_the_house:
          type: boolean
          default: false
        ceiling_height:
          type: boolean
          default: false
